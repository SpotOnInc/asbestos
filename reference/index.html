<!doctype html><html lang=en class=no-js> <head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><link href=../usage/ rel=prev><link rel=icon href=../assets/images/favicon.png><meta name=generator content="mkdocs-1.5.3, mkdocs-material-9.5.17"><title>Reference - Asbestos</title><link rel=stylesheet href=../assets/stylesheets/main.bcfcd587.min.css><link rel=stylesheet href=../assets/stylesheets/palette.06af60db.min.css><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback"><style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style><link rel=stylesheet href=../assets/_mkdocstrings.css><script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script></head> <body dir=ltr data-md-color-scheme=default data-md-color-primary=indigo data-md-color-accent=indigo> <input class=md-toggle data-md-toggle=drawer type=checkbox id=__drawer autocomplete=off> <input class=md-toggle data-md-toggle=search type=checkbox id=__search autocomplete=off> <label class=md-overlay for=__drawer></label> <div data-md-component=skip> <a href=#asbestos.asbestos_cursor class=md-skip> Skip to content </a> </div> <div data-md-component=announce> </div> <header class="md-header md-header--shadow" data-md-component=header> <nav class="md-header__inner md-grid" aria-label=Header> <a href=.. title=Asbestos class="md-header__button md-logo" aria-label=Asbestos data-md-component=logo> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M224 0c13.3 0 24 10.7 24 24v46.1l23-23c9.4-9.4 24.6-9.4 33.9 0s9.4 24.6 0 33.9l-57 57v76.5l66.2-38.2L335 98.5c3.4-12.8 16.6-20.4 29.4-17s20.4 16.6 17 29.4l-8.4 31.3 37.1-21.4c11.5-6.6 26.2-2.7 32.8 8.8s2.7 26.2-8.8 32.8L397 183.8l31.5 8.4c12.8 3.4 20.4 16.6 17 29.4s-16.6 20.4-29.4 17l-77.8-20.9L272 256l66.2 38.2 77.8-20.9c12.8-3.4 26 4.2 29.4 17s-4.2 26-17 29.4l-31.4 8.5 37.1 21.4c11.5 6.6 15.4 21.3 8.8 32.8s-21.3 15.4-32.8 8.8L373 369.8l8.4 31.5c3.4 12.8-4.2 26-17 29.4s-26-4.2-29.4-17l-20.9-77.8-66.1-38.3v76.5l57 57c9.4 9.4 9.4 24.6 0 33.9s-24.6 9.4-33.9 0l-23-23v46c0 13.3-10.7 24-24 24s-24-10.7-24-24v-46.1l-23 23c-9.4 9.4-24.6 9.4-33.9 0s-9.4-24.6 0-33.9l57-57v-76.4L134 335.8l-20.9 77.8c-3.4 12.8-16.6 20.4-29.4 17s-20.4-16.6-17-29.4l8.3-31.4-37.1 21.4c-11.5 6.6-26.2 2.7-32.8-8.8s-2.7-26.2 8.8-32.8L51 328.2l-31.5-8.4c-12.8-3.4-20.4-16.6-17-29.4s16.6-20.4 29.4-17l77.8 20.9L176 256l-66.2-38.2-77.9 20.8c-12.8 3.4-26-4.2-29.4-17s4.2-26 17-29.4l31.5-8.4-37.1-21.4c-11.5-6.6-15.4-21.3-8.8-32.8s21.3-15.4 32.8-8.8L75 142.2l-8.4-31.5c-3.4-12.8 4.2-26 17-29.4s26 4.2 29.4 17l20.9 77.8 66.1 38.3v-76.5L143 81c-9.4-9.4-9.4-24.6 0-33.9s24.6-9.4 33.9 0l23 23V24c0-13.3 10.7-24 24-24z"/></svg> </a> <label class="md-header__button md-icon" for=__drawer> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg> </label> <div class=md-header__title data-md-component=header-title> <div class=md-header__ellipsis> <div class=md-header__topic> <span class=md-ellipsis> Asbestos </span> </div> <div class=md-header__topic data-md-component=header-topic> <span class=md-ellipsis> Reference </span> </div> </div> </div> <form class=md-header__option data-md-component=palette> <input class=md-option data-md-color-media=(prefers-color-scheme) data-md-color-scheme=default data-md-color-primary=indigo data-md-color-accent=indigo aria-label="Switch to light mode" type=radio name=__palette id=__palette_0> <label class="md-header__button md-icon" title="Switch to light mode" for=__palette_1 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="m14.3 16-.7-2h-3.2l-.7 2H7.8L11 7h2l3.2 9h-1.9M20 8.69V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12 20 8.69m-9.15 3.96h2.3L12 9l-1.15 3.65Z"/></svg> </label> <input class=md-option data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme=default data-md-color-primary=indigo data-md-color-accent=indigo aria-label="Switch to dark mode" type=radio name=__palette id=__palette_1> <label class="md-header__button md-icon" title="Switch to dark mode" for=__palette_2 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12 20 8.69Z"/></svg> </label> <input class=md-option data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme=slate data-md-color-primary=indigo data-md-color-accent=indigo aria-label="Switch to system preference" type=radio name=__palette id=__palette_2> <label class="md-header__button md-icon" title="Switch to system preference" for=__palette_0 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12c0-2.42-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12 20 8.69Z"/></svg> </label> </form> <script>var media,input,key,value,palette=__md_get("__palette");if(palette&&palette.color){"(prefers-color-scheme)"===palette.color.media&&(media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']"),palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent"));for([key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script> <label class="md-header__button md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg> </label> <div class=md-search data-md-component=search role=dialog> <label class=md-search__overlay for=__search></label> <div class=md-search__inner role=search> <form class=md-search__form name=search> <input type=text class=md-search__input name=query aria-label=Search placeholder=Search autocapitalize=off autocorrect=off autocomplete=off spellcheck=false data-md-component=search-query required> <label class="md-search__icon md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg> </label> <nav class=md-search__options aria-label=Search> <button type=reset class="md-search__icon md-icon" title=Clear aria-label=Clear tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg> </button> </nav> </form> <div class=md-search__output> <div class=md-search__scrollwrap data-md-scrollfix> <div class=md-search-result data-md-component=search-result> <div class=md-search-result__meta> Initializing search </div> <ol class=md-search-result__list role=presentation></ol> </div> </div> </div> </div> </div> </nav> </header> <div class=md-container data-md-component=container> <main class=md-main data-md-component=main> <div class="md-main__inner md-grid"> <div class="md-sidebar md-sidebar--primary" data-md-component=sidebar data-md-type=navigation> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--primary" aria-label=Navigation data-md-level=0> <label class=md-nav__title for=__drawer> <a href=.. title=Asbestos class="md-nav__button md-logo" aria-label=Asbestos data-md-component=logo> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M224 0c13.3 0 24 10.7 24 24v46.1l23-23c9.4-9.4 24.6-9.4 33.9 0s9.4 24.6 0 33.9l-57 57v76.5l66.2-38.2L335 98.5c3.4-12.8 16.6-20.4 29.4-17s20.4 16.6 17 29.4l-8.4 31.3 37.1-21.4c11.5-6.6 26.2-2.7 32.8 8.8s2.7 26.2-8.8 32.8L397 183.8l31.5 8.4c12.8 3.4 20.4 16.6 17 29.4s-16.6 20.4-29.4 17l-77.8-20.9L272 256l66.2 38.2 77.8-20.9c12.8-3.4 26 4.2 29.4 17s-4.2 26-17 29.4l-31.4 8.5 37.1 21.4c11.5 6.6 15.4 21.3 8.8 32.8s-21.3 15.4-32.8 8.8L373 369.8l8.4 31.5c3.4 12.8-4.2 26-17 29.4s-26-4.2-29.4-17l-20.9-77.8-66.1-38.3v76.5l57 57c9.4 9.4 9.4 24.6 0 33.9s-24.6 9.4-33.9 0l-23-23v46c0 13.3-10.7 24-24 24s-24-10.7-24-24v-46.1l-23 23c-9.4 9.4-24.6 9.4-33.9 0s-9.4-24.6 0-33.9l57-57v-76.4L134 335.8l-20.9 77.8c-3.4 12.8-16.6 20.4-29.4 17s-20.4-16.6-17-29.4l8.3-31.4-37.1 21.4c-11.5 6.6-26.2 2.7-32.8-8.8s-2.7-26.2 8.8-32.8L51 328.2l-31.5-8.4c-12.8-3.4-20.4-16.6-17-29.4s16.6-20.4 29.4-17l77.8 20.9L176 256l-66.2-38.2-77.9 20.8c-12.8 3.4-26-4.2-29.4-17s4.2-26 17-29.4l31.5-8.4-37.1-21.4c-11.5-6.6-15.4-21.3-8.8-32.8s21.3-15.4 32.8-8.8L75 142.2l-8.4-31.5c-3.4-12.8 4.2-26 17-29.4s26 4.2 29.4 17l20.9 77.8 66.1 38.3v-76.5L143 81c-9.4-9.4-9.4-24.6 0-33.9s24.6-9.4 33.9 0l23 23V24c0-13.3 10.7-24 24-24z"/></svg> </a> Asbestos </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=.. class=md-nav__link> <span class=md-ellipsis> Home </span> </a> </li> <li class=md-nav__item> <a href=../setup/ class=md-nav__link> <span class=md-ellipsis> Setup </span> </a> </li> <li class=md-nav__item> <a href=../usage/ class=md-nav__link> <span class=md-ellipsis> Usage </span> </a> </li> <li class="md-nav__item md-nav__item--active"> <input class="md-nav__toggle md-toggle" type=checkbox id=__toc> <label class="md-nav__link md-nav__link--active" for=__toc> <span class=md-ellipsis> Reference </span> <span class="md-nav__icon md-icon"></span> </label> <a href=./ class="md-nav__link md-nav__link--active"> <span class=md-ellipsis> Reference </span> </a> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#asbestos.asbestos_cursor class=md-nav__link> <span class=md-ellipsis> asbestos_cursor </span> </a> </li> <li class=md-nav__item> <a href=#asbestos.asbestos.AsbestosConfig class=md-nav__link> <span class=md-ellipsis> AsbestosConfig </span> </a> <nav class=md-nav aria-label=AsbestosConfig> <ul class=md-nav__list> <li class=md-nav__item> <a href=#asbestos.asbestos.AsbestosConfig.clear_queries class=md-nav__link> <span class=md-ellipsis> clear_queries </span> </a> </li> <li class=md-nav__item> <a href=#asbestos.asbestos.AsbestosConfig.register class=md-nav__link> <span class=md-ellipsis> register </span> </a> </li> <li class=md-nav__item> <a href=#asbestos.asbestos.AsbestosConfig.register_ephemeral class=md-nav__link> <span class=md-ellipsis> register_ephemeral </span> </a> </li> <li class=md-nav__item> <a href=#asbestos.asbestos.AsbestosConfig.remove_query_by_sfqid class=md-nav__link> <span class=md-ellipsis> remove_query_by_sfqid </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#asbestos.asbestos.AsbestosCursor class=md-nav__link> <span class=md-ellipsis> AsbestosCursor </span> </a> <nav class=md-nav aria-label=AsbestosCursor> <ul class=md-nav__list> <li class=md-nav__item> <a href=#asbestos.asbestos.AsbestosCursor.sfqid class=md-nav__link> <span class=md-ellipsis> sfqid </span> </a> </li> <li class=md-nav__item> <a href=#asbestos.asbestos.AsbestosCursor.close class=md-nav__link> <span class=md-ellipsis> close </span> </a> </li> <li class=md-nav__item> <a href=#asbestos.asbestos.AsbestosCursor.execute class=md-nav__link> <span class=md-ellipsis> execute </span> </a> </li> <li class=md-nav__item> <a href=#asbestos.asbestos.AsbestosCursor.execute_async class=md-nav__link> <span class=md-ellipsis> execute_async </span> </a> </li> <li class=md-nav__item> <a href=#asbestos.asbestos.AsbestosCursor.fetchall class=md-nav__link> <span class=md-ellipsis> fetchall </span> </a> </li> <li class=md-nav__item> <a href=#asbestos.asbestos.AsbestosCursor.fetchmany class=md-nav__link> <span class=md-ellipsis> fetchmany </span> </a> </li> <li class=md-nav__item> <a href=#asbestos.asbestos.AsbestosCursor.fetchone class=md-nav__link> <span class=md-ellipsis> fetchone </span> </a> </li> <li class=md-nav__item> <a href=#asbestos.asbestos.AsbestosCursor.get_results_from_sfqid class=md-nav__link> <span class=md-ellipsis> get_results_from_sfqid </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#asbestos.asbestos.EphemeralContext class=md-nav__link> <span class=md-ellipsis> EphemeralContext </span> </a> </li> <li class=md-nav__item> <a href=#asbestos.asbestos.AsbestosConn class=md-nav__link> <span class=md-ellipsis> AsbestosConn </span> </a> <nav class=md-nav aria-label=AsbestosConn> <ul class=md-nav__list> <li class=md-nav__item> <a href=#asbestos.asbestos.AsbestosConn.close class=md-nav__link> <span class=md-ellipsis> close </span> </a> </li> <li class=md-nav__item> <a href=#asbestos.asbestos.AsbestosConn.get_query_status class=md-nav__link> <span class=md-ellipsis> get_query_status </span> </a> </li> <li class=md-nav__item> <a href=#asbestos.asbestos.AsbestosConn.is_still_running class=md-nav__link> <span class=md-ellipsis> is_still_running </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#asbestos.exceptions class=md-nav__link> <span class=md-ellipsis> exceptions </span> </a> <nav class=md-nav aria-label=exceptions> <ul class=md-nav__list> <li class=md-nav__item> <a href=#asbestos.exceptions.AsbestosDuplicateQuery class=md-nav__link> <span class=md-ellipsis> AsbestosDuplicateQuery </span> </a> </li> <li class=md-nav__item> <a href=#asbestos.exceptions.AsbestosMissingConfig class=md-nav__link> <span class=md-ellipsis> AsbestosMissingConfig </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <div class="md-sidebar md-sidebar--secondary" data-md-component=sidebar data-md-type=toc> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#asbestos.asbestos_cursor class=md-nav__link> <span class=md-ellipsis> asbestos_cursor </span> </a> </li> <li class=md-nav__item> <a href=#asbestos.asbestos.AsbestosConfig class=md-nav__link> <span class=md-ellipsis> AsbestosConfig </span> </a> <nav class=md-nav aria-label=AsbestosConfig> <ul class=md-nav__list> <li class=md-nav__item> <a href=#asbestos.asbestos.AsbestosConfig.clear_queries class=md-nav__link> <span class=md-ellipsis> clear_queries </span> </a> </li> <li class=md-nav__item> <a href=#asbestos.asbestos.AsbestosConfig.register class=md-nav__link> <span class=md-ellipsis> register </span> </a> </li> <li class=md-nav__item> <a href=#asbestos.asbestos.AsbestosConfig.register_ephemeral class=md-nav__link> <span class=md-ellipsis> register_ephemeral </span> </a> </li> <li class=md-nav__item> <a href=#asbestos.asbestos.AsbestosConfig.remove_query_by_sfqid class=md-nav__link> <span class=md-ellipsis> remove_query_by_sfqid </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#asbestos.asbestos.AsbestosCursor class=md-nav__link> <span class=md-ellipsis> AsbestosCursor </span> </a> <nav class=md-nav aria-label=AsbestosCursor> <ul class=md-nav__list> <li class=md-nav__item> <a href=#asbestos.asbestos.AsbestosCursor.sfqid class=md-nav__link> <span class=md-ellipsis> sfqid </span> </a> </li> <li class=md-nav__item> <a href=#asbestos.asbestos.AsbestosCursor.close class=md-nav__link> <span class=md-ellipsis> close </span> </a> </li> <li class=md-nav__item> <a href=#asbestos.asbestos.AsbestosCursor.execute class=md-nav__link> <span class=md-ellipsis> execute </span> </a> </li> <li class=md-nav__item> <a href=#asbestos.asbestos.AsbestosCursor.execute_async class=md-nav__link> <span class=md-ellipsis> execute_async </span> </a> </li> <li class=md-nav__item> <a href=#asbestos.asbestos.AsbestosCursor.fetchall class=md-nav__link> <span class=md-ellipsis> fetchall </span> </a> </li> <li class=md-nav__item> <a href=#asbestos.asbestos.AsbestosCursor.fetchmany class=md-nav__link> <span class=md-ellipsis> fetchmany </span> </a> </li> <li class=md-nav__item> <a href=#asbestos.asbestos.AsbestosCursor.fetchone class=md-nav__link> <span class=md-ellipsis> fetchone </span> </a> </li> <li class=md-nav__item> <a href=#asbestos.asbestos.AsbestosCursor.get_results_from_sfqid class=md-nav__link> <span class=md-ellipsis> get_results_from_sfqid </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#asbestos.asbestos.EphemeralContext class=md-nav__link> <span class=md-ellipsis> EphemeralContext </span> </a> </li> <li class=md-nav__item> <a href=#asbestos.asbestos.AsbestosConn class=md-nav__link> <span class=md-ellipsis> AsbestosConn </span> </a> <nav class=md-nav aria-label=AsbestosConn> <ul class=md-nav__list> <li class=md-nav__item> <a href=#asbestos.asbestos.AsbestosConn.close class=md-nav__link> <span class=md-ellipsis> close </span> </a> </li> <li class=md-nav__item> <a href=#asbestos.asbestos.AsbestosConn.get_query_status class=md-nav__link> <span class=md-ellipsis> get_query_status </span> </a> </li> <li class=md-nav__item> <a href=#asbestos.asbestos.AsbestosConn.is_still_running class=md-nav__link> <span class=md-ellipsis> is_still_running </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#asbestos.exceptions class=md-nav__link> <span class=md-ellipsis> exceptions </span> </a> <nav class=md-nav aria-label=exceptions> <ul class=md-nav__list> <li class=md-nav__item> <a href=#asbestos.exceptions.AsbestosDuplicateQuery class=md-nav__link> <span class=md-ellipsis> AsbestosDuplicateQuery </span> </a> </li> <li class=md-nav__item> <a href=#asbestos.exceptions.AsbestosMissingConfig class=md-nav__link> <span class=md-ellipsis> AsbestosMissingConfig </span> </a> </li> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <div class=md-content data-md-component=content> <article class="md-content__inner md-typeset"> <h1>Reference</h1> <div class="doc doc-object doc-function"> <h2 id=asbestos.asbestos_cursor class="doc doc-heading"> <code class="highlight language-python"><span class=n>asbestos</span><span class=o>.</span><span class=n>asbestos_cursor</span><span class=p>()</span></code> </h2> <div class="doc doc-contents first"> <p>Stand-in for Snowflake's Python Connector.</p> </div> </div> <div class="doc doc-object doc-class"> <h2 id=asbestos.asbestos.AsbestosConfig class="doc doc-heading"> <code>asbestos.asbestos.AsbestosConfig</code> </h2> <div class="doc doc-contents first"> <p>The cursor in Asbestos takes a single argument of an instance of <code>AsbestosConfig</code>. When using the built-in <code>asbestos_cursor()</code>, it automatically uses a global config built just for this purpose.</p> <div class="admonition warning"> <p class=admonition-title>Hey!</p> <p>If you're using the default <code>asbestos_cursor()</code>, you do not need to instantiate your own instance of this class. Just import the existing version from <code>asbestos.config</code>.</p> </div> <div class="doc doc-children"> <div class="doc doc-object doc-function"> <h3 id=asbestos.asbestos.AsbestosConfig.clear_queries class="doc doc-heading"> <code class="highlight language-python"><span class=n>clear_queries</span><span class=p>()</span></code> </h3> <div class="doc doc-contents "> <p>Remove all the registered queries and responses.</p> </div> </div> <div class="doc doc-object doc-function"> <h3 id=asbestos.asbestos.AsbestosConfig.register class="doc doc-heading"> <code class="highlight language-python"><span class=n>register</span><span class=p>(</span><span class=n>query</span><span class=p>,</span> <span class=n>response</span><span class=p>,</span> <span class=n>data</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span> <span class=n>force_pagination_size</span><span class=o>=</span><span class=kc>None</span><span class=p>)</span></code> </h3> <div class="doc doc-contents "> <p>Asbestos will watch for any call that includes the query passed in and return the response you save. If data is provided with the query, the response will only be returned if the query and data match exactly. A query with no data will match any data passed in, though.</p> <p>Example:</p> <div class=highlight><pre><span></span><code><span class=o>&gt;&gt;&gt;</span> <span class=n>config</span><span class=o>.</span><span class=n>register</span><span class=p>(</span><span class=n>query</span><span class=o>=</span><span class=s2>&quot;A&quot;</span><span class=p>,</span> <span class=n>response</span><span class=o>=</span><span class=s2>&quot;B&quot;</span><span class=p>)</span>
<span class=o>&gt;&gt;&gt;</span> <span class=n>cursor</span><span class=o>.</span><span class=n>execute</span><span class=p>(</span><span class=s2>&quot;A&quot;</span><span class=p>)</span>
<span class=o>&gt;&gt;&gt;</span> <span class=n>cursor</span><span class=o>.</span><span class=n>fetchone</span><span class=p>()</span>
<span class=s2>&quot;B&quot;</span>  <span class=c1># This matches, so we get what we expect</span>
</code></pre></div> <p>Because our registered response doesn't have data attached to it, it will match all queries that are more specific.</p> <div class=highlight><pre><span></span><code><span class=o>&gt;&gt;&gt;</span> <span class=n>cursor</span><span class=o>.</span><span class=n>execute</span><span class=p>(</span><span class=s2>&quot;A&quot;</span><span class=p>,</span> <span class=p>(</span><span class=s2>&quot;AAA&quot;</span><span class=p>,))</span>
<span class=o>&gt;&gt;&gt;</span> <span class=n>cursor</span><span class=o>.</span><span class=n>fetchone</span><span class=p>()</span>
<span class=s2>&quot;B&quot;</span>
</code></pre></div> <p>However, if our registered response is more specific than the query, it will not match.</p> <div class=highlight><pre><span></span><code><span class=o>&gt;&gt;&gt;</span> <span class=n>config</span><span class=o>.</span><span class=n>clear_queries</span><span class=p>()</span>
<span class=o>&gt;&gt;&gt;</span> <span class=n>config</span><span class=o>.</span><span class=n>register</span><span class=p>(</span><span class=n>query</span><span class=o>=</span><span class=s2>&quot;A&quot;</span><span class=p>,</span> <span class=n>data</span><span class=o>=</span><span class=s2>&quot;D&quot;</span><span class=p>,</span> <span class=n>response</span><span class=o>=</span><span class=s2>&quot;B&quot;</span><span class=p>)</span>
<span class=o>&gt;&gt;&gt;</span> <span class=n>cursor</span><span class=o>.</span><span class=n>execute</span><span class=p>(</span><span class=s2>&quot;A&quot;</span><span class=p>,</span> <span class=p>(</span><span class=s2>&quot;D&quot;</span><span class=p>,))</span>
<span class=o>&gt;&gt;&gt;</span> <span class=n>cursor</span><span class=o>.</span><span class=n>fetchone</span><span class=p>()</span>
<span class=s2>&quot;B&quot;</span>  <span class=c1># this matches the saved query exactly, so we get the expected response</span>
<span class=o>&gt;&gt;&gt;</span> <span class=n>cursor</span><span class=o>.</span><span class=n>execute</span><span class=p>(</span><span class=s2>&quot;A&quot;</span><span class=p>)</span>
<span class=o>&gt;&gt;&gt;</span> <span class=n>cursor</span><span class=o>.</span><span class=n>fetchone</span><span class=p>()</span>
<span class=p>{}</span>  <span class=c1># default response</span>
<span class=o>&gt;&gt;&gt;</span> <span class=n>cursor</span><span class=o>.</span><span class=n>execute</span><span class=p>(</span><span class=s2>&quot;A&quot;</span><span class=p>,</span> <span class=p>(</span><span class=s2>&quot;E&quot;</span><span class=p>,))</span>  <span class=c1># extra data doesn&#39;t match!</span>
<span class=o>&gt;&gt;&gt;</span> <span class=n>cursor</span><span class=o>.</span><span class=n>fetchone</span><span class=p>()</span>
<span class=p>{}</span>  <span class=c1># default response</span>
</code></pre></div> <p>If you're dealing with a <code>fetchmany()</code> call and need to control how many results are returned regardless of what the code requests, pass the return count into <code>force_pagination_size</code>. This will override both <code>cursor.arraysize</code> and the number passed into <code>fetchmany</code>.</p> <div class=highlight><pre><span></span><code><span class=o>&gt;&gt;&gt;</span> <span class=n>config</span><span class=o>.</span><span class=n>register</span><span class=p>(</span>
<span class=o>...</span>     <span class=n>query</span><span class=o>=</span><span class=s2>&quot;A&quot;</span><span class=p>,</span>
<span class=o>...</span>     <span class=n>response</span><span class=o>=</span><span class=p>[{</span><span class=s1>&#39;a&#39;</span><span class=p>:</span> <span class=mi>1</span><span class=p>},</span> <span class=p>{</span><span class=s1>&#39;b&#39;</span><span class=p>:</span> <span class=mi>2</span><span class=p>}],</span>
<span class=o>...</span>     <span class=n>force_pagination_size</span><span class=o>=</span><span class=mi>1</span>
<span class=o>...</span> <span class=p>)</span>
<span class=o>&gt;&gt;&gt;</span> <span class=n>cursor</span><span class=o>.</span><span class=n>execute</span><span class=p>(</span><span class=s2>&quot;A&quot;</span><span class=p>)</span>
<span class=o>&gt;&gt;&gt;</span> <span class=n>cursor</span><span class=o>.</span><span class=n>fetchmany</span><span class=p>(</span><span class=mi>50</span><span class=p>)</span>
<span class=p>{</span><span class=s1>&#39;a&#39;</span><span class=p>:</span> <span class=mi>1</span><span class=p>}</span>  <span class=c1># because we overrode the value when registering</span>
</code></pre></div> <p>Registering a query will return the <code>sfqid</code> of the query that was just registered. This can be used later with <code>get_results_from_sfqid()</code> and <code>remove_query_by_sfqid()</code> to manipulate the query after it's been registered.</p> </div> </div> <div class="doc doc-object doc-function"> <h3 id=asbestos.asbestos.AsbestosConfig.register_ephemeral class="doc doc-heading"> <code class="highlight language-python"><span class=n>register_ephemeral</span><span class=p>(</span><span class=n>query</span><span class=p>,</span> <span class=n>response</span><span class=p>,</span> <span class=n>data</span><span class=o>=</span><span class=kc>None</span><span class=p>,</span> <span class=n>force_pagination_size</span><span class=o>=</span><span class=kc>None</span><span class=p>)</span></code> </h3> <div class="doc doc-contents "> <p>Works the same way as <code>AsbestosConfig.register()</code> with the only difference being that after this query is called, it is removed from the list. This can be used for tests or other situations where you need a call to succeed only once.</p> </div> </div> <div class="doc doc-object doc-function"> <h3 id=asbestos.asbestos.AsbestosConfig.remove_query_by_sfqid class="doc doc-heading"> <code class="highlight language-python"><span class=n>remove_query_by_sfqid</span><span class=p>(</span><span class=n>sfqid</span><span class=p>)</span></code> </h3> <div class="doc doc-contents "> <blockquote> <p>New in 1.6.0!</p> </blockquote> <p>If you need to remove a specific registered query (ephemeral or not), pass its <code>sfqid</code> in here. Returns True if the query was found and removed.</p> <div class=highlight><pre><span></span><code><span class=o>&gt;&gt;&gt;</span> <span class=n>query_id</span> <span class=o>=</span> <span class=n>config</span><span class=o>.</span><span class=n>register</span><span class=p>(</span><span class=n>query</span><span class=o>=</span><span class=s2>&quot;A&quot;</span><span class=p>,</span> <span class=n>response</span><span class=o>=</span><span class=s2>&quot;B&quot;</span><span class=p>)</span>
<span class=o>&gt;&gt;&gt;</span> <span class=nb>len</span><span class=p>(</span><span class=n>config</span><span class=o>.</span><span class=n>query_map</span><span class=p>)</span>
<span class=mi>1</span>  <span class=c1># one query registered</span>
<span class=o>&gt;&gt;&gt;</span> <span class=n>config</span><span class=o>.</span><span class=n>remove_query_by_sfqid</span><span class=p>(</span><span class=n>query_id</span><span class=p>)</span>
<span class=kc>True</span>  <span class=c1># the query was found and removed</span>
<span class=o>&gt;&gt;&gt;</span> <span class=nb>len</span><span class=p>(</span><span class=n>config</span><span class=o>.</span><span class=n>query_map</span><span class=p>)</span>
<span class=mi>0</span>  <span class=c1># no queries left</span>
</code></pre></div> </div> </div> </div> </div> </div> <div class="doc doc-object doc-class"> <h2 id=asbestos.asbestos.AsbestosCursor class="doc doc-heading"> <code>asbestos.asbestos.AsbestosCursor</code> </h2> <div class="doc doc-contents first"> <p>Analogue for Snowflake's cursor object.</p> <p>If you're wanting to use this as a manually-constructed object, you will need to create an instance of AsbestosConfig first, then pass it into your cursor. The easiest way to handle this is to treat it like the instantiation that is used in Asbestos:</p> <div class=highlight><pre><span></span><code><span class=kn>import</span> <span class=nn>contextlib</span>

<span class=kn>from</span> <span class=nn>asbestos</span> <span class=kn>import</span> <span class=n>AsbestosCursor</span><span class=p>,</span> <span class=n>AsbestosConfig</span>


<span class=n>myconfig</span> <span class=o>=</span> <span class=n>AsbestosConfig</span><span class=p>()</span>

<span class=c1># set up myconfig here</span>
<span class=o>...</span>

<span class=nd>@contextlib</span><span class=o>.</span><span class=n>contextmanager</span>
<span class=k>def</span> <span class=nf>my_custom_cursor</span><span class=p>()</span> <span class=o>-&gt;</span> <span class=n>AsbestosCursor</span><span class=p>:</span>
    <span class=k>yield</span> <span class=n>AsbestosCursor</span><span class=p>(</span><span class=n>config</span><span class=o>=</span><span class=n>myconfig</span><span class=p>)</span>
</code></pre></div> <div class="doc doc-children"> <div class="doc doc-object doc-attribute"> <h3 id=asbestos.asbestos.AsbestosCursor.sfqid class="doc doc-heading"> <code class="highlight language-python"><span class=n>sfqid</span></code> <span class="doc doc-labels"> <small class="doc doc-label doc-label-property"><code>property</code></small> </span> </h3> <div class="doc doc-contents "> <p>Retrieve the ID of the last-run query or None.</p> <p>In Snowflake, the <code>sfqid</code> is an ID that's attached to every query that's run. In <code>asbestos</code>, it's a random number attached to a query. If you pass this value to <code>get_results_from_sfqid()</code>, it will reset the cursor to the values from that query to effectively run it again.</p> </div> </div> <div class="doc doc-object doc-function"> <h3 id=asbestos.asbestos.AsbestosCursor.close class="doc doc-heading"> <code class="highlight language-python"><span class=n>close</span><span class=p>()</span></code> </h3> <div class="doc doc-contents "> <p>Reset the queries and "close" the connection.</p> </div> </div> <div class="doc doc-object doc-function"> <h3 id=asbestos.asbestos.AsbestosCursor.execute class="doc doc-heading"> <code class="highlight language-python"><span class=n>execute</span><span class=p>(</span><span class=n>query</span><span class=p>,</span> <span class=n>inserted_data</span><span class=o>=</span><span class=kc>None</span><span class=p>)</span></code> </h3> <div class="doc doc-contents "> <p>Pass SQL to <code>asbestos</code> for processing.</p> <p>Saves the SQL and any passed-in data to the cursor and starts the process of finding your pre-saved response. To get the data, you will need to call one of the fetch* methods listed below.</p> </div> </div> <div class="doc doc-object doc-function"> <h3 id=asbestos.asbestos.AsbestosCursor.execute_async class="doc doc-heading"> <code class="highlight language-python"><span class=n>execute_async</span><span class=p>(</span><span class=o>*</span><span class=n>args</span><span class=p>,</span> <span class=o>**</span><span class=n>kwargs</span><span class=p>)</span></code> </h3> <div class="doc doc-contents "> <p>Functions the same as <code>.execute()</code>.</p> </div> </div> <div class="doc doc-object doc-function"> <h3 id=asbestos.asbestos.AsbestosCursor.fetchall class="doc doc-heading"> <code class="highlight language-python"><span class=n>fetchall</span><span class=p>()</span></code> </h3> <div class="doc doc-contents "> <p>Return the entire saved response.</p> <p>Whereas <code>fetchone</code> will only return the first entry from a saved response, <code>fetchall</code> does what it sounds like it does. Example:</p> <div class=highlight><pre><span></span><code><span class=n>config</span><span class=o>.</span><span class=n>register</span><span class=p>(</span><span class=n>query</span><span class=o>=</span><span class=s2>&quot;A&quot;</span><span class=p>,</span> <span class=n>response</span><span class=o>=</span><span class=p>[{</span><span class=s1>&#39;a&#39;</span><span class=p>:</span><span class=mi>1</span><span class=p>},</span> <span class=p>{</span><span class=s1>&#39;b&#39;</span><span class=p>:</span> <span class=mi>2</span><span class=p>}])</span>
<span class=k>with</span> <span class=n>asbestos_cursor</span><span class=p>()</span> <span class=k>as</span> <span class=n>cursor</span><span class=p>:</span>
    <span class=n>cursor</span><span class=o>.</span><span class=n>execute</span><span class=p>(</span><span class=s2>&quot;A&quot;</span><span class=p>)</span>
    <span class=n>resp</span> <span class=o>=</span> <span class=n>cursor</span><span class=o>.</span><span class=n>fetchall</span><span class=p>()</span>

<span class=c1># resp = [{&#39;a&#39;:1}, {&#39;b&#39;: 2}]</span>
</code></pre></div> </div> </div> <div class="doc doc-object doc-function"> <h3 id=asbestos.asbestos.AsbestosCursor.fetchmany class="doc doc-heading"> <code class="highlight language-python"><span class=n>fetchmany</span><span class=p>(</span><span class=n>size</span><span class=o>=</span><span class=kc>None</span><span class=p>)</span></code> </h3> <div class="doc doc-contents "> <p>Return a paged subset of the saved response.</p> <p>Uses <code>cursor.arraysize</code> to control the page size or just pass your requested page size into the function: <code>.fetchmany(200)</code>. Automatically paginates the response so that you can just keep calling it until you run out of response for it to return. Example:</p> <div class=highlight><pre><span></span><code><span class=n>config</span><span class=o>.</span><span class=n>register</span><span class=p>(</span><span class=n>query</span><span class=o>=</span><span class=s2>&quot;A&quot;</span><span class=p>,</span> <span class=n>response</span><span class=o>=</span><span class=p>[{</span><span class=s1>&#39;a&#39;</span><span class=p>:</span><span class=mi>1</span><span class=p>},</span> <span class=p>{</span><span class=s1>&#39;b&#39;</span><span class=p>:</span> <span class=mi>2</span><span class=p>}])</span>

<span class=n>cursor</span><span class=o>.</span><span class=n>arraysize</span> <span class=o>=</span> <span class=mi>1</span>  <span class=c1># return one response at a time</span>
<span class=k>with</span> <span class=n>asbestos_cursor</span><span class=p>()</span> <span class=k>as</span> <span class=n>cursor</span><span class=p>:</span>
    <span class=n>cursor</span><span class=o>.</span><span class=n>execute</span><span class=p>(</span><span class=s2>&quot;A&quot;</span><span class=p>)</span>
    <span class=n>cursor</span><span class=o>.</span><span class=n>fetchmany</span><span class=p>()</span>  <span class=c1># [{&#39;a&#39;:1}]</span>
    <span class=n>cursor</span><span class=o>.</span><span class=n>fetchmany</span><span class=p>()</span>  <span class=c1># [{&#39;b&#39;: 2}]</span>
    <span class=n>cursor</span><span class=o>.</span><span class=n>fetchmany</span><span class=p>()</span>  <span class=c1># []</span>

<span class=n>Note</span><span class=p>:</span> <span class=n>a</span> <span class=n>value</span> <span class=n>passed</span> <span class=n>directly</span> <span class=n>into</span> <span class=err>`</span><span class=n>fetchmany</span><span class=err>`</span> <span class=n>overrides</span> <span class=n>the</span>
<span class=err>`</span><span class=n>cursor</span><span class=o>.</span><span class=n>arraysize</span><span class=err>`</span><span class=p>,</span> <span class=ow>and</span> <span class=n>both</span> <span class=n>of</span> <span class=n>them</span> <span class=n>are</span> <span class=n>overridden</span> <span class=n>by</span> <span class=n>registering</span>
<span class=n>the</span> <span class=n>query</span> <span class=k>with</span> <span class=err>`</span><span class=n>force_pagination_size</span><span class=err>`</span><span class=o>.</span>
</code></pre></div> </div> </div> <div class="doc doc-object doc-function"> <h3 id=asbestos.asbestos.AsbestosCursor.fetchone class="doc doc-heading"> <code class="highlight language-python"><span class=n>fetchone</span><span class=p>()</span></code> </h3> <div class="doc doc-contents "> <p>Return the first result from the saved response for a query.</p> <p><code>fetchone</code> takes a pre-saved query and only gives the first piece of data from the response. Example:</p> <div class=highlight><pre><span></span><code><span class=n>config</span><span class=o>.</span><span class=n>register</span><span class=p>(</span><span class=n>query</span><span class=o>=</span><span class=s2>&quot;A&quot;</span><span class=p>,</span> <span class=n>response</span><span class=o>=</span><span class=p>[{</span><span class=s1>&#39;a&#39;</span><span class=p>:</span><span class=mi>1</span><span class=p>},</span> <span class=p>{</span><span class=s1>&#39;b&#39;</span><span class=p>:</span> <span class=mi>2</span><span class=p>}])</span>
<span class=k>with</span> <span class=n>asbestos_cursor</span><span class=p>()</span> <span class=k>as</span> <span class=n>cursor</span><span class=p>:</span>
    <span class=n>cursor</span><span class=o>.</span><span class=n>execute</span><span class=p>(</span><span class=s2>&quot;A&quot;</span><span class=p>)</span>
    <span class=n>resp</span> <span class=o>=</span> <span class=n>cursor</span><span class=o>.</span><span class=n>fetchone</span><span class=p>()</span>

<span class=c1># resp = {&#39;a&#39;:1}</span>
</code></pre></div> </div> </div> <div class="doc doc-object doc-function"> <h3 id=asbestos.asbestos.AsbestosCursor.get_results_from_sfqid class="doc doc-heading"> <code class="highlight language-python"><span class=n>get_results_from_sfqid</span><span class=p>(</span><span class=n>query_id</span><span class=p>)</span></code> </h3> <div class="doc doc-contents "> <p>Resets the last-run information to the given query ID.</p> <p>If you pass a sfqid from a previously-run query, it will rebuild the cursor using the data from that query, effectively allowing you to run the query again without calling <code>.execute()</code>.</p> <div class="admonition warning"> <p class=admonition-title>Watch out!</p> <p>Ephemeral queries are only recoverable if they are the last query you ran. After you run another query, it will be fully replaced and cannot be recovered via its ID.</p> </div> </div> </div> </div> </div> </div> <div class="doc doc-object doc-class"> <h2 id=asbestos.asbestos.EphemeralContext class="doc doc-heading"> <code>asbestos.asbestos.EphemeralContext</code> </h2> <div class="doc doc-contents first"> <blockquote> <p>New in 1.6.0!</p> </blockquote> <p>Ephemeral queries are, by definition, single-use. However, ephemeral queries that are paginated are not removed from the list until they are fully exhausted.</p> <p>There are also situations where you may want to have regular queries behave like ephemeral queries, only slightly longer-lasting. The EphemeralContext context manager allows you to wrap a block of code and have all queries run within it removed after the block is done.</p> <div class=highlight><pre><span></span><code><span class=o>&gt;&gt;&gt;</span> <span class=n>config</span><span class=o>.</span><span class=n>register</span><span class=p>(</span><span class=n>query</span><span class=o>=</span><span class=s2>&quot;A&quot;</span><span class=p>,</span> <span class=n>response</span><span class=o>=</span><span class=s2>&quot;B&quot;</span><span class=p>)</span>
<span class=o>&gt;&gt;&gt;</span> <span class=n>config</span><span class=o>.</span><span class=n>register</span><span class=p>(</span><span class=n>query</span><span class=o>=</span><span class=s2>&quot;C&quot;</span><span class=p>,</span> <span class=n>response</span><span class=o>=</span><span class=s2>&quot;D&quot;</span><span class=p>)</span>
<span class=o>&gt;&gt;&gt;</span> <span class=nb>len</span><span class=p>(</span><span class=n>config</span><span class=o>.</span><span class=n>query_map</span><span class=p>)</span>
<span class=mi>2</span>  <span class=c1># two queries registered</span>
<span class=o>&gt;&gt;&gt;</span> <span class=k>with</span> <span class=n>EphemeralContext</span><span class=p>(</span><span class=n>config</span><span class=p>):</span>
<span class=o>&gt;&gt;&gt;</span>     <span class=k>with</span> <span class=n>asbestos_cursor</span><span class=p>()</span> <span class=k>as</span> <span class=n>cursor</span><span class=p>:</span>
<span class=o>&gt;&gt;&gt;</span>         <span class=n>cursor</span><span class=o>.</span><span class=n>execute</span><span class=p>(</span><span class=s2>&quot;A&quot;</span><span class=p>)</span>
<span class=o>&gt;&gt;&gt;</span>         <span class=n>cursor</span><span class=o>.</span><span class=n>fetchone</span><span class=p>()</span>
<span class=s2>&quot;B&quot;</span>  <span class=c1># this is the response from the first query</span>
<span class=o>&gt;&gt;&gt;</span> <span class=nb>len</span><span class=p>(</span><span class=n>config</span><span class=o>.</span><span class=n>query_map</span><span class=p>)</span>
<span class=mi>1</span>  <span class=c1># the query that was run has been removed, but the other remains</span>
</code></pre></div> <p>This works for unlimited numbers of queries of any type.</p> <div class="doc doc-children"> </div> </div> </div> <div class="doc doc-object doc-class"> <h2 id=asbestos.asbestos.AsbestosConn class="doc doc-heading"> <code>asbestos.asbestos.AsbestosConn</code> </h2> <div class="doc doc-contents first"> <p>Connector to house the Asbestos Cursor object.</p> <p>The real Snowflake connector has two methods for interacting with it: either a cursor object directly (<code>cursor.execute()</code>) or a <code>connection</code> object that is referenced directly (<code>conn.cursor.execute()</code>). Since the goal is that this can be a more-or-less drop-in replacement, we provide an optional connector that can be used to spawn the default cursor.</p> <div class="admonition note"> <p class=admonition-title>The AsbestosConn doesn't use the default config!</p> <p>If you want to use this, you will need to configure it through the <code>config</code> object that is located on this instance. Example: <div class=highlight><pre><span></span><code><span class=kn>from</span> <span class=nn>asbestos</span> <span class=kn>import</span> <span class=n>AsbestosConn</span>

<span class=n>myconn</span> <span class=o>=</span> <span class=n>AsbestosConn</span><span class=p>()</span>
<span class=n>myconn</span><span class=o>.</span><span class=n>config</span><span class=o>.</span><span class=n>register</span><span class=p>(</span><span class=s2>&quot;select * from...&quot;</span><span class=p>,</span> <span class=p>{</span><span class=s2>&quot;MY_EXPECTED&quot;</span><span class=p>:</span> <span class=s2>&quot;DATA&quot;</span><span class=p>})</span>
<span class=k>with</span> <span class=n>myconn</span><span class=o>.</span><span class=n>cursor</span><span class=p>()</span> <span class=k>as</span> <span class=n>cursor</span><span class=p>:</span>
    <span class=o>...</span>
</code></pre></div></p> </div> <div class="doc doc-children"> <div class="doc doc-object doc-function"> <h3 id=asbestos.asbestos.AsbestosConn.close class="doc doc-heading"> <code class="highlight language-python"><span class=n>close</span><span class=p>()</span></code> </h3> <div class="doc doc-contents "> <p>Reset the queries and "close" the connection.</p> </div> </div> <div class="doc doc-object doc-function"> <h3 id=asbestos.asbestos.AsbestosConn.get_query_status class="doc doc-heading"> <code class="highlight language-python"><span class=n>get_query_status</span><span class=p>(</span><span class=o>*</span><span class=n>args</span><span class=p>)</span></code> </h3> <div class="doc doc-contents "> <p>Check on a currently-running async query.</p> <p>Returns 2, the Snowflake QueryStatus Success value.</p> </div> </div> <div class="doc doc-object doc-function"> <h3 id=asbestos.asbestos.AsbestosConn.is_still_running class="doc doc-heading"> <code class="highlight language-python"><span class=n>is_still_running</span><span class=p>(</span><span class=o>*</span><span class=n>args</span><span class=p>)</span></code> </h3> <div class="doc doc-contents "> <p>Check long-running async queries. Will always return False.</p> </div> </div> </div> </div> </div> <div class="doc doc-object doc-module"> <h2 id=asbestos.exceptions class="doc doc-heading"> <code>asbestos.exceptions</code> </h2> <div class="doc doc-contents first"> <div class="doc doc-children"> <div class="doc doc-object doc-class"> <h3 id=asbestos.exceptions.AsbestosDuplicateQuery class="doc doc-heading"> <code>AsbestosDuplicateQuery</code> </h3> <div class="doc doc-contents "> <p class="doc doc-class-bases"> Bases: <code><span title=Exception>Exception</span></code></p> <p>This exception is raised if <code>.register()</code> or <code>.register_ephemeral()</code> are used to create duplicate queries.</p> </div> </div> <div class="doc doc-object doc-class"> <h3 id=asbestos.exceptions.AsbestosMissingConfig class="doc doc-heading"> <code>AsbestosMissingConfig</code> </h3> <div class="doc doc-contents "> <p class="doc doc-class-bases"> Bases: <code><span title=Exception>Exception</span></code></p> <p>This exception is raised if a new cursor is created without passing in an instance of AsbestosConfig.</p> </div> </div> </div> </div> </div> </article> </div> <script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script> </div> </main> <footer class=md-footer> <div class="md-footer-meta md-typeset"> <div class="md-footer-meta__inner md-grid"> <div class=md-copyright> Made with <a href=https://squidfunk.github.io/mkdocs-material/ target=_blank rel=noopener> Material for MkDocs </a> </div> </div> </div> </footer> </div> <div class=md-dialog data-md-component=dialog> <div class="md-dialog__inner md-typeset"></div> </div> <script id=__config type=application/json>{"base": "..", "features": [], "search": "../assets/javascripts/workers/search.b8dbb3d2.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script> <script src=../assets/javascripts/bundle.1e8ae164.min.js></script> </body> </html>